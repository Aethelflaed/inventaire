{
   "_id": "_design/notifications",
   "language": "coffeescript",
   "views": {
       "byUserAndTime": {
           "map": "(doc)->\n  emit [doc.user, doc.time], null"
       },
       "bySubject": {
           "map": "(doc)->\n  switch doc.type\n    when 'groupUpdate', 'userMadeAdmin'\n      emit doc.user, 'user'\n      if doc.data.user isnt doc.user then emit doc.data.user, 'data:user'\n      emit doc.data.group, 'data:group'\n"
       }
   }
}